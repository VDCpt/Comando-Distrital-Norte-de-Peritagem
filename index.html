<!DOCTYPE html>
<html lang="pt-PT">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VDC FORENSE v15.1 - LEGAL WEAPON</title>
    
    <!-- Fontes -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Scripts externos -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <div id="app-container">
        <header class="forensic-header">
            <div class="logo-area">
                <h1>VDC FORENSE ELITE v15.1</h1>
                <p>MOTOR BIG DATA ¬∑ SOMA ARITM√âTICA CERTIFICADA</p>
            </div>
            <div class="header-right">
                <div class="info-block">
                    <label>TOTAL ACUMULADO (COM IVA)</label>
                    <span id="valSaft" class="val-highlight">0,00 ‚Ç¨</span>
                </div>
                <div class="info-block">
                    <label>N¬∫ VIAGENS</label>
                    <span id="valViagens" class="val-highlight">0</span>
                </div>
                <div class="status-online">
                    <span class="dot"></span>
                    <span class="text">ONLINE</span>
                </div>
            </div>
        </header>
        
        <main class="container">
            <!-- ZONA DE UPLOAD -->
            <section class="upload-zone" id="dropZone">
                <div class="upload-content">
                    <div class="radar"></div>
                    <h3>FONTES DE DADOS ¬∑ UPLOAD SAF-T</h3>
                    <p class="upload-text">Arraste ficheiro CSV ou clique para selecionar</p>
                    <p class="upload-formats">Formato: 131509_*.csv (SAF-T)</p>
                    <p class="upload-limit">Tamanho m√°ximo: 10MB</p>
                    <input type="file" id="fileInput" accept=".csv,text/csv" hidden>
                </div>
            </section>

            <!-- FEEDBACK -->
            <div id="file-feedback" class="file-feedback"></div>
            <div id="file-list" class="file-list"></div>

            <!-- M√âTRICAS PRINCIPAIS -->
            <div class="grid-stats">
                <div class="stat-card" id="cardIVA">
                    <label>IVA TOTAL (APURADO)</label>
                    <div id="valIVA" class="val">0,00 ‚Ç¨</div>
                    <div class="trend" id="trendIVA">‚ü∑ 0%</div>
                </div>
                <div class="stat-card" id="cardSemIva">
                    <label>PRE√áO SEM IVA</label>
                    <div id="valSemIva" class="val">0,00 ‚Ç¨</div>
                    <div class="trend" id="trendSemIva">‚ü∑ 0%</div>
                </div>
                <div class="stat-card" id="cardComissao">
                    <label>COMISS√ïES (SIMULADO)</label>
                    <div id="valComissao" class="val">0,00 ‚Ç¨</div>
                    <div class="trend" id="trendComissao">‚ü∑ 0%</div>
                </div>
                <div class="stat-card" id="cardLiquido">
                    <label>L√çQUIDO (TOTAL - COMISS√ÉO)</label>
                    <div id="valLiquido" class="val">0,00 ‚Ç¨</div>
                    <div class="trend" id="trendLiquido">‚ü∑ 0%</div>
                </div>
            </div>

            <!-- M√âTRICAS SECUND√ÅRIAS -->
            <div class="secondary-metrics">
                <div class="metric-small">
                    <label>TAXA M√âDIA</label>
                    <span id="valTaxa" class="val">0,00</span>
                    <span class="currency">%</span>
                </div>
                <div class="metric-small">
                    <label>DOCUMENTOS</label>
                    <span id="valDocumentos" class="val">0</span>
                </div>
                <div class="metric-small">
                    <label>STATUS</label>
                    <span id="valStatus" class="val status-ok">‚úì</span>
                </div>
                <div class="metric-small">
                    <label>HASH</label>
                    <span id="valHash" class="val" style="font-size: 10px;">---</span>
                </div>
            </div>

            <!-- PAINEL DE CONTROLO -->
            <div class="control-panel">
                <div class="action-bar">
                    <button id="btnAnalyze" class="btn-main">
                        <span>üîç EXECUTAR CRUZAMENTOS</span>
                    </button>
                    
                    <button id="btnExport" class="btn-sec">
                        <span>üìÑ GERAR PDF</span>
                    </button>
                    
                    <button id="btnJSON" class="btn-sec">
                        <span>üìä EXPORTAR JSON</span>
                    </button>
                    
                    <button id="btnDemo" class="btn-sec demo">
                        <span>üöÄ DEMO</span>
                    </button>
                    
                    <button id="btnReset" class="btn-sec danger">
                        <span>üóëÔ∏è LIMPAR</span>
                    </button>
                </div>
            </div>

            <!-- TERMINAL DE AUDITORIA -->
            <div class="terminal-container">
                <div class="terminal-header">
                    <span class="terminal-title">CONSOLA DE AUDITORIA</span>
                    <span class="terminal-status">GRAVANDO</span>
                </div>
                <div id="terminal" class="terminal-body"></div>
            </div>

            <!-- QR CODE E FOOTER -->
            <div class="master-hash-container">
                <div class="master-hash-left">
                    <span class="master-label">MASTER HASH:</span>
                    <span class="master-value" id="masterHash">---</span>
                </div>
                <div class="master-hash-right">
                    <div id="qrcode-container" style="width: 48px; height: 48px;"></div>
                    <span class="timestamp" id="footerTimestamp"></span>
                </div>
            </div>

            <footer class="main-footer">
                <div class="footer-left">
                    <span class="copyright">VDC FORENSE ELITE v15.1 ¬∑ MOTOR DE SOMA PRECISA</span>
                </div>
                <div class="footer-right">
                    <span class="system-status">ESTADO: <span class="status-ok">OPERACIONAL</span></span>
                </div>
            </footer>
        </main>
    </div>

    <!-- JAVASCRIPT PRINCIPAL -->
    <script src="script.js"></script>
</body>
</html>
